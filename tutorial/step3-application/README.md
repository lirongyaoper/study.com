# ğŸ¯ ç¬¬3æ­¥ï¼šå®é™…åº”ç”¨

> ğŸ¯ **å­¦ä¹ ç›®æ ‡**ï¼šåœ¨çœŸå®é¡¹ç›®åœºæ™¯ä¸­åº”ç”¨Treeç±»ï¼ŒæŒæ¡ç½‘ç«™èœå•ã€åˆ†ç±»ç®¡ç†ç­‰å®ç”¨åŠŸèƒ½

## ğŸ“‹ æœ¬æ­¥éª¤å­¦ä¹ å†…å®¹

### ğŸ“š ç†è®ºå­¦ä¹ 
1. **[04_å®æˆ˜åº”ç”¨.md](./04_å®æˆ˜åº”ç”¨.md)** - å®é™…åº”ç”¨åœºæ™¯
   - ç½‘ç«™å¯¼èˆªèœå•ç³»ç»Ÿ
   - ç”µå•†åˆ†ç±»ç®¡ç†
   - ç»„ç»‡æ¶æ„ç®¡ç†
   - æƒé™æ§åˆ¶ç³»ç»Ÿ

### ğŸ› ï¸ é¡¹ç›®å®æˆ˜
2. **[menu_demo.php](./menu_demo.php)** - ç½‘ç«™èœå•ç³»ç»Ÿ
   - å¤šçº§å¯¼èˆªèœå•ç”Ÿæˆ
   - é¢åŒ…å±‘å¯¼èˆªå®ç°
   - ç§»åŠ¨ç«¯èœå•é€‚é…
   - æƒé™æ§åˆ¶èœå•

3. **[category_demo.php](./category_demo.php)** - åˆ†ç±»ç®¡ç†ç³»ç»Ÿ
   - å•†å“åˆ†ç±»æ ‘å½¢å±•ç¤º
   - åˆ†ç±»ç­›é€‰å’Œæœç´¢
   - åˆ†ç±»æ•°æ®ç»Ÿè®¡
   - åˆ†ç±»ç®¡ç†æ“ä½œ

## â±ï¸ é¢„è®¡å­¦ä¹ æ—¶é—´
**3-4å°æ—¶**ï¼ˆåŒ…å«é¡¹ç›®å®è·µæ—¶é—´ï¼‰

## ğŸ¯ å­¦ä¹ è·¯å¾„

### Step 3.1ï¼šåº”ç”¨åœºæ™¯å­¦ä¹ ï¼ˆ60åˆ†é’Ÿï¼‰
```
ğŸ“– é˜…è¯» 04_å®æˆ˜åº”ç”¨.md
â”œâ”€â”€ ç½‘ç«™å¯¼èˆªèœå•çš„è®¾è®¡æ€è·¯
â”œâ”€â”€ ç”µå•†åˆ†ç±»ç³»ç»Ÿçš„å®ç°æ–¹æ¡ˆ  
â”œâ”€â”€ ç»„ç»‡æ¶æ„ç®¡ç†çš„æ•°æ®æ¨¡å‹
â”œâ”€â”€ æƒé™æ§åˆ¶çš„æ ‘å½¢ç»“æ„åº”ç”¨
â””â”€â”€ å…¶ä»–å¸¸è§åº”ç”¨åœºæ™¯åˆ†æ
```

### Step 3.2ï¼šèœå•ç³»ç»Ÿå®æˆ˜ï¼ˆ90åˆ†é’Ÿï¼‰
```
ğŸ’» å­¦ä¹  menu_demo.php
â”œâ”€â”€ ç¬¬ä¸€é˜¶æ®µï¼šç†è§£èœå•æ•°æ®ç»“æ„è®¾è®¡
â”œâ”€â”€ ç¬¬äºŒé˜¶æ®µï¼šå­¦ä¹ HTMLèœå•ç”Ÿæˆæ–¹æ³•
â”œâ”€â”€ ç¬¬ä¸‰é˜¶æ®µï¼šæŒæ¡é¢åŒ…å±‘å¯¼èˆªå®ç°
â”œâ”€â”€ ç¬¬å››é˜¶æ®µï¼šäº†è§£ç§»åŠ¨ç«¯èœå•é€‚é…
â””â”€â”€ ç¬¬äº”é˜¶æ®µï¼šå®ç°æƒé™æ§åˆ¶åŠŸèƒ½
```

### Step 3.3ï¼šåˆ†ç±»ç³»ç»Ÿå®æˆ˜ï¼ˆ90åˆ†é’Ÿï¼‰
```
ğŸ’» å­¦ä¹  category_demo.php  
â”œâ”€â”€ åˆ†ç±»æ•°æ®çš„ç»„ç»‡å’Œç®¡ç†
â”œâ”€â”€ æ ‘å½¢åˆ†ç±»çš„å±•ç¤ºæ–¹æ³•
â”œâ”€â”€ åˆ†ç±»ç­›é€‰å’Œæœç´¢åŠŸèƒ½
â”œâ”€â”€ åˆ†ç±»ç»Ÿè®¡å’Œåˆ†æåŠŸèƒ½
â””â”€â”€ åˆ†ç±»ç®¡ç†æ“ä½œå®ç°
```

## ğŸ› ï¸ å®æˆ˜é¡¹ç›®

### é¡¹ç›®1ï¼šç½‘ç«™å¯¼èˆªèœå•ç³»ç»Ÿ

#### åŠŸèƒ½è¦æ±‚
- [ ] æ”¯æŒæ— é™çº§èœå•
- [ ] ç”ŸæˆHTMLå¯¼èˆªç»“æ„
- [ ] å½“å‰é¡µé¢é«˜äº®æ˜¾ç¤º
- [ ] é¢åŒ…å±‘å¯¼èˆª
- [ ] ç§»åŠ¨ç«¯é€‚é…

#### å®è·µæ­¥éª¤
```bash
# 1. è¿è¡Œèœå•æ¼”ç¤º
php menu_demo.php

# 2. åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹HTMLæ•ˆæœ
# å°†è¾“å‡ºçš„HTMLä¿å­˜ä¸º.htmlæ–‡ä»¶å¹¶åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€

# 3. ä¿®æ”¹èœå•æ•°æ®ï¼Œæµ‹è¯•ä¸åŒç»“æ„
# ç¼–è¾‘menu_demo.phpä¸­çš„$website_menuæ•°ç»„
```

#### æ ¸å¿ƒä»£ç ç†è§£
```php
// é€’å½’ç”Ÿæˆèœå•HTML
function generateDropdownMenu($tree, $parent_id = 0, $level = 0) {
    $children = $tree->getChildren($parent_id);
    if (!$children) return '';
    
    $html = "<ul class='menu level-{$level}'>\n";
    foreach ($children as $child) {
        $html .= "<li><a href='{$child['url']}'>{$child['name']}</a>";
        
        // é€’å½’å¤„ç†å­èœå•
        $html .= generateDropdownMenu($tree, $child['id'], $level + 1);
        $html .= "</li>\n";
    }
    $html .= "</ul>\n";
    
    return $html;
}
```

### é¡¹ç›®2ï¼šç”µå•†åˆ†ç±»ç®¡ç†ç³»ç»Ÿ

#### åŠŸèƒ½è¦æ±‚  
- [ ] åˆ†ç±»æ ‘å½¢å±•ç¤º
- [ ] åˆ†ç±»å±‚çº§ç®¡ç†
- [ ] åˆ†ç±»æ•°æ®ç»Ÿè®¡
- [ ] åˆ†ç±»æœç´¢ç­›é€‰
- [ ] åˆ†ç±»å¢åˆ æ”¹æ“ä½œ

#### å®è·µæ­¥éª¤
```bash
# 1. è¿è¡Œåˆ†ç±»æ¼”ç¤º
php category_demo.php

# 2. ç†è§£åˆ†ç±»æ•°æ®ç»“æ„
# åˆ†æç”µå•†åˆ†ç±»çš„ç‰¹ç‚¹å’Œè®¾è®¡æ€è·¯

# 3. å®ç°è‡ªå®šä¹‰åˆ†ç±»åŠŸèƒ½
# å°è¯•æ·»åŠ æ–°çš„åˆ†ç±»ç®¡ç†åŠŸèƒ½
```

## âœ… å®Œæˆæ ‡å¿—

åœ¨è¿›å…¥ä¸‹ä¸€æ­¥ä¹‹å‰ï¼Œè¯·ç¡®ä¿ä½ èƒ½å¤Ÿï¼š

- [ ] ğŸŒ **èœå•ç³»ç»Ÿ**ï¼šèƒ½å¤Ÿç”Ÿæˆå®Œæ•´çš„ç½‘ç«™å¯¼èˆªèœå•
- [ ] ğŸ“‹ **åˆ†ç±»ç®¡ç†**ï¼šç†è§£ç”µå•†åˆ†ç±»ç³»ç»Ÿçš„å®ç°æ€è·¯  
- [ ] ğŸ **é¢åŒ…å±‘å¯¼èˆª**ï¼šèƒ½å¤Ÿå®ç°è·¯å¾„å¯¼èˆªåŠŸèƒ½
- [ ] ğŸ“± **ç§»åŠ¨é€‚é…**ï¼šäº†è§£ç§»åŠ¨ç«¯èœå•çš„ç‰¹æ®Šå¤„ç†
- [ ] ğŸ” **æƒé™æ§åˆ¶**ï¼šæŒæ¡åŸºäºæ ‘å½¢ç»“æ„çš„æƒé™ç®¡ç†
- [ ] ğŸ¨ **HTMLç”Ÿæˆ**ï¼šèƒ½å¤Ÿç”Ÿæˆå„ç§æ ¼å¼çš„HTMLç»“æ„

## ğŸ—ï¸ å®æˆ˜ç»ƒä¹ 

### ç»ƒä¹ 1ï¼šè‡ªå®šä¹‰èœå•ç³»ç»Ÿ
åŸºäºmenu_demo.phpï¼Œå®ç°ä¸€ä¸ªåšå®¢ç½‘ç«™çš„å¯¼èˆªèœå•ï¼š

```php
$blog_menu = array(
    1 => array('id' => 1, 'parentid' => 0, 'name' => 'é¦–é¡µ', 'url' => '/'),
    2 => array('id' => 2, 'parentid' => 0, 'name' => 'æ–‡ç« åˆ†ç±»', 'url' => '/categories'),
    3 => array('id' => 3, 'parentid' => 2, 'name' => 'æŠ€æœ¯æ–‡ç« ', 'url' => '/categories/tech'),
    4 => array('id' => 4, 'parentid' => 2, 'name' => 'ç”Ÿæ´»éšç¬”', 'url' => '/categories/life'),
    5 => array('id' => 5, 'parentid' => 3, 'name' => 'PHPå¼€å‘', 'url' => '/categories/tech/php'),
    6 => array('id' => 6, 'parentid' => 3, 'name' => 'å‰ç«¯æŠ€æœ¯', 'url' => '/categories/tech/frontend'),
    // ç»§ç»­æ·»åŠ æ›´å¤šåˆ†ç±»...
);
```

### ç»ƒä¹ 2ï¼šæƒé™èœå•è¿‡æ»¤
å®ç°ä¸€ä¸ªæƒé™æ§åˆ¶åŠŸèƒ½ï¼Œæ ¹æ®ç”¨æˆ·æƒé™æ˜¾ç¤ºä¸åŒçš„èœå•ï¼š

```php
// æ¨¡æ‹Ÿä¸åŒç”¨æˆ·çš„æƒé™
$admin_permissions = array(1,2,3,4,5,6,7,8,9,10); // ç®¡ç†å‘˜ï¼šæ‰€æœ‰æƒé™
$editor_permissions = array(1,2,3,4,5,6);         // ç¼–è¾‘ï¼šéƒ¨åˆ†æƒé™  
$viewer_permissions = array(1,2,3);               // è®¿å®¢ï¼šåªè¯»æƒé™

// å®ç°æƒé™è¿‡æ»¤å‡½æ•°
function filterMenuByPermissions($tree, $permissions) {
    // åœ¨è¿™é‡Œå®ç°æƒé™è¿‡æ»¤é€»è¾‘
}
```

### ç»ƒä¹ 3ï¼šé¢åŒ…å±‘å¯¼èˆªå¢å¼º
å¢å¼ºé¢åŒ…å±‘å¯¼èˆªåŠŸèƒ½ï¼Œæ·»åŠ ä»¥ä¸‹ç‰¹æ€§ï¼š
- æ”¯æŒè‡ªå®šä¹‰åˆ†éš”ç¬¦
- æ”¯æŒé“¾æ¥æ ·å¼æ§åˆ¶
- æ”¯æŒSEOä¼˜åŒ–çš„ç»“æ„åŒ–æ•°æ®

## ğŸš€ å‡†å¤‡è¿›å…¥ä¸‹ä¸€æ­¥

å®Œæˆæœ¬æ­¥éª¤å­¦ä¹ åï¼Œä½ å°†è¿›å…¥ï¼š
**[ğŸ“ step4-advanced](../step4-advanced/)** - é«˜çº§è¿›é˜¶ï¼Œå­¦ä¹ æ€§èƒ½ä¼˜åŒ–å’Œé«˜çº§ç‰¹æ€§

## ğŸ’¡ åº”ç”¨æŠ€å·§

### 1. èœå•è®¾è®¡åŸåˆ™
- **å±‚çº§ä¸å®œè¿‡æ·±**ï¼šå»ºè®®ä¸è¶…è¿‡4çº§
- **å‘½åè¦æ¸…æ™°**ï¼šèœå•åç§°è¦ç®€æ´æ˜äº†
- **URLè¦è§„èŒƒ**ï¼šéµå¾ªRESTfulè®¾è®¡åŸåˆ™
- **æƒé™è¦æ˜ç¡®**ï¼šæ¯ä¸ªèœå•é¡¹éƒ½è¦æœ‰æ˜ç¡®çš„æƒé™å®šä¹‰

### 2. æ€§èƒ½ä¼˜åŒ–å»ºè®®
```php
// ç¼“å­˜èœå•ç»“æ„ï¼Œé¿å…é‡å¤æŸ¥è¯¢
$menu_cache = "cache/menu_" . md5(serialize($menu_data)) . ".php";
if (!file_exists($menu_cache)) {
    $html = generateMenu($tree);
    file_put_contents($menu_cache, "<?php return " . var_export($html, true) . ";");
} else {
    $html = include $menu_cache;
}
```

### 3. è°ƒè¯•æŠ€å·§
```php
// èœå•ç»“æ„è°ƒè¯•
function debugMenu($tree, $node_id = 0, $level = 0) {
    $indent = str_repeat("  ", $level);
    $children = $tree->getChildren($node_id);
    
    if ($children) {
        foreach ($children as $child) {
            echo $indent . "- {$child['name']} (ID: {$child['id']})\n";
            debugMenu($tree, $child['id'], $level + 1);
        }
    }
}
```

## ğŸ” å¸¸è§é—®é¢˜è§£å†³

### Q1: èœå•å±‚çº§è¿‡æ·±æ€ä¹ˆåŠï¼Ÿ
A: è€ƒè™‘é‡æ–°è®¾è®¡ä¿¡æ¯æ¶æ„ï¼Œæˆ–ä½¿ç”¨"æ›´å¤š"æŒ‰é’®æ”¶çº³æ·±å±‚èœå•ã€‚

### Q2: å¦‚ä½•å¤„ç†å¤§é‡èœå•é¡¹çš„æ€§èƒ½é—®é¢˜ï¼Ÿ
A: ä½¿ç”¨ç¼“å­˜æœºåˆ¶ï¼Œåªåœ¨èœå•æ•°æ®å˜åŒ–æ—¶é‡æ–°ç”ŸæˆHTMLã€‚

### Q3: ç§»åŠ¨ç«¯èœå•å¦‚ä½•ä¼˜åŒ–ï¼Ÿ
A: ä½¿ç”¨æŠ˜å å¼è®¾è®¡ï¼Œä¼˜å…ˆæ˜¾ç¤ºé‡è¦èœå•é¡¹ã€‚

---
ğŸ“ **å½“å‰ä½ç½®**ï¼šç¬¬3æ­¥ - å®é™…åº”ç”¨  
â¬…ï¸ **ä¸Šä¸€æ­¥**ï¼š[ç¬¬2æ­¥ - åŠ¨æ‰‹å®è·µ](../step2-practice/README.md)  
â­ï¸ **ä¸‹ä¸€æ­¥**ï¼š[ç¬¬4æ­¥ - é«˜çº§è¿›é˜¶](../step4-advanced/README.md)
